394p
서론
9~11장은 로컬 DB인 faiss사용, 9장의 구현 실습에서 크로마 DB사용

이번 장에서는 벡터 DB의 검색 방법인 KNN과,
KNN의 느린 속도를 극복한 ANN 검색 방식, 그 중에서도 자주 쓰이는 HNSW(Hierarchical Navigable Small World)알고리즘 배우기
실습은 전용 벡터 DB인 파인콘 사용,
실습에서 멀티 모달 검색도 구현가능

395p
모든 데이터는 정형 비정형 가리지 않고 임베딩으로 변환 가능
변환이 가능하다면? 벡터 DB에 넣고 거리 계산으로 검색 가능

396p
※ 딥러닝과 머신러닝의 차이는 사람이 직접 데이터의 특징을 정의하는가의 여부이다
딥러닝은 원래부터 데이터에서 특징을 추출하는데 특화되어 있음

표현 학습이란?
무슨 특징이 있을지를 정해줘야하는게 아니고,
데이터가 주어지면 일단 거기서 특징을 뽑는 과정 자체를 학습함

397p
그리고 표현학습이 잘된 딥러닝 임베딩 모델은
유사한 데이터는 (벡터공간상에서) 가까이, 다른 데이터는 멀리 위치함
고로, 임베딩 간 거리를 계산하면 서로 비슷한 데이터를 찾을 수 있음
그런고로, 벡터 DB는 비슷한 데이터를 찾기 위해 만들어졌음

398p
{   벡터 DB를 사용하는 과정
    {   순서는 어떻게 되나
        1. 저장: 저장할 데이터를 임베딩 모델로 임베딩 벡터로 변환하고 vec DB에 저장
        2. 검색: 검색할 데이터를 임베딩 모델로 임베딩 벡터로 변환하고 vec DB에서 검색
        3. 결과 반환: vec DB에서 검색한 쿼리(데이터)의 임베딩과 거리가 가까운 벡터를 찾아서 반환
    }

    {   벡터 DB용 소프트에는 뭐가 있나?
        3개로 구분된다.

        벡터 라이브러리: 저장과 검색같은 기초적인 기능 제공
        벡터 DB: 벡터 라이브러리의 기능에 더해, 메타 데이터 저장과 필터링, DB의 백업과 관리, 모니터링 & AI 관련 도구와 통합, 보안과 액세스 관리
        ※ 벡터 라이브러리에 기능에, DBMS의 기능에, GPU가속 검색이나 등 AI 구현 전용 기능을 포함한 기타 확장 프로그램을 추가한 모양임
        벡터 기능 추가 DB: 이건 반대로 기존 DBMS에 ANN(특히 HNSW) 기능 등 벡터 라이브러리의 기능을 추가한거
    }

    {   Q: 그래서, 검색은 어떻게 하는데?
        {   A: 먼저 거리를 측정하는 방법을 정의해야함
            이건 코사인 유사도, 유클리드 거리(L2 norm), 내적(무슨 정의의 내적인지는 모르겠음)

            여담: 이미지 검색 같은 비정형 데이터의 유사성을 구하는 핀터레스트나, 구매한 상품과 유사한 상품을 추천하는 시스템을 구현할 때 벡터 임베딩을 많이 씀
        }
    }
}

